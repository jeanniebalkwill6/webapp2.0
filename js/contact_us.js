"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","common"],function(r,e,s,o,t){function a(){n=[],t.dao.getUserOrder({userId:t.util.getUserId()},function(e){var s=e;if(s&&s.length>0)for(var o=0;o<s.length;o++){var t=s[o];1==t.paymentStatus&&(n.push(t),r('<option value="'+t.orderId+'"><span>'+t.orderId+"</span></option>").appendTo("#orderList"))}0==n.length&&(r("#error_orderno").html(r.i18n.map.NoOrderErrorMsg),r("#error_orderno").addClass("show-error-text"))},function(){r("#error_orderno").html(r.i18n.map.NoOrderErrorMsg),r("#error_orderno").addClass("show-error-text")},function(){r(".main-wrap").css("visibility","visible")})}console.log("contact_us.js");var n=[];t.initLoginStatus(function(r){r?a():window.location.href="../../../login.html"}),t.setLanguageCallback(function(){for(var e=0;e<4;e++)switch(e){case 0:r('<option value="-1"><span>'+r.i18n.map.ChooseTitle+"</span></option>").appendTo("#typeList");break;case 1:r('<option value="'+(e+1)+'"><span>'+r.i18n.map.AboutShip+"</span></option>").appendTo("#typeList");break;case 2:r('<option value="'+(e+2)+'"><span>'+r.i18n.map.CancelOrder+"</span></option>").appendTo("#typeList");break;case 3:r('<option value="'+e+'"><span>'+r.i18n.map.Other+"</span></option>").appendTo("#typeList")}}),function(){r("#submit_btn").click(function(){var e=!0,s=t.util.getUserId();s||(e=!1,window.location.href="../../../login.html");var o=r("#typeList").val();o&&-1!=o?r("#error_type").removeClass("show-error-text"):(r("#error_type").addClass("show-error-text"),e=!1);var a=r("#title").val();0==t.util.checkNull(a)?(r("#error_title").addClass("show-error-text"),e=!1):r("#error_title").removeClass("show-error-text");var n=r("#message").val();0==t.util.checkNull(n)?(r("#error_message").addClass("show-error-text"),e=!1):r("#error_message").removeClass("show-error-text");var i=r("#orderList").val();i?r("#error_orderno").removeClass("show-error-text"):(r("#error_orderno").addClass("show-error-text"),e=!1),e&&t.dao.contactUs({userId:s,type:o,title:a,orderNo:i,cnt:n},function(){r("#hint").removeClass("invisibility"),r("#submit_btn").attr("disabled",!0)})}),r("#title").blur(function(){var e=t.util.checkNull(r(this).val());0==e?(r(this).parent().removeClass("has-success"),r(this).parent().addClass("has-error"),r("#error_title").addClass("show-error-text")):1==e&&(r(this).parent().removeClass("has-error"),r(this).parent().addClass("has-success"),r("#error_title").removeClass("show-error-text"))}),r("#message").blur(function(){var e=t.util.checkNull(r(this).val());0==e?(r(this).parent().removeClass("has-success"),r(this).parent().addClass("has-error"),r("#error_message").addClass("show-error-text")):1==e&&(r(this).parent().removeClass("has-error"),r(this).parent().addClass("has-success"),r("#error_message").removeClass("show-error-text"))})}()});